define(["jquery","core/ajax","core/notification"],function(c,a,b){return{debug:false,toggle:function(h,g,f){var e=this;if(e.debug){console.log("local_courseexpiry/main:toggle(uniqid, courseid, action)",h,g,f)}var d=c("#local_courseexpiry_"+h+" #tr-"+h+"-"+g+" a i").css("color","lightgray");var i=(f=="keep")?0:1;if(e.debug){console.log("setto",i)}a.call([{methodname:"local_courseexpiry_toggle",args:{courseid:g,status:i},done:function(j){if(e.debug){console.log("=> Result for "+h+"-"+g,j)}if(typeof j.courseid!=="undefined"&&j.courseid==g){var l=c('<i class="fa fa-square" style="color: darkgray;"></i>');var k=c('<i class="fa fa-check-square" style="color: black;"></i>');setTimeout(function(){if(j.status==1){c("#status-"+h+"-"+g+"-delete").empty().append(k);c("#status-"+h+"-"+g+"-keep").empty().append(l)}else{c("#status-"+h+"-"+g+"-delete").empty().append(l);c("#status-"+h+"-"+g+"-keep").empty().append(k)}},500)}},fail:b.exception}])},}});