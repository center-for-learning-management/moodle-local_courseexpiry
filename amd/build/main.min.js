define(["jquery","core/ajax","core/notification"],function(c,a,b){return{debug:false,toggle:function(g,f){var e=this;if(e.debug){console.log("local_courseexpiry/main:toggle(uniqid, courseid)",g,f)}var d=c("#local_courseexpiry_"+g+" #tr-"+g+"-"+f+" td.status a");c(d).find("i").css("color","lightgray");var h=d.hasClass("status-1")?0:1;if(e.debug){console.log("setto",h)}a.call([{methodname:"local_courseexpiry_toggle",args:{courseid:f,status:h},done:function(i){if(e.debug){console.log("=> Result for "+g+"-"+f,i)}if(typeof i.courseid!=="undefined"&&i.courseid==f){if(i.status!=1){i.status=0}c(d).removeClass("status-0").removeClass("status-1").addClass("status-"+i.status);if(i.status==1){c(d).empty().append(c('<i class="fa fa-exclamation" style="color: red;"></i>'))}else{c(d).empty().append(c('<i class="fa fa-check" style="color: darkgreen;"></i>'))}}},fail:b.exception}])},}});